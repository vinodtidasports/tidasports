{"version":3,"file":"admin-edit-booking.js","mappings":"mBACA,IAAIA,oBAAsB,CCA1BA,EAAyBC,SACxB,IAAIC,OAASD,QAAUA,OAAOE,WAC7B,IAAOF,OAAiB,QACxB,IAAM,OAEP,OADAD,oBAAoBI,EAAEF,OAAQ,CAAEG,EAAGH,SAC5BA,MAAM,ECLdF,EAAwB,CAACM,QAASC,cACjC,IAAI,IAAIC,OAAOD,WACXP,oBAAoBS,EAAEF,WAAYC,OAASR,oBAAoBS,EAAEH,QAASE,MAC5EE,OAAOC,eAAeL,QAASE,IAAK,CAAEI,YAAY,EAAMC,IAAKN,WAAWC,MAE1E,ECNDR,EAAwB,CAACc,IAAKC,OAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,IAAKC,OCAlF,MAAM,iCAA+BI,OAAW,GAAQ,KCAlD,gCAA+BA,OAAe,O,mFCApD,MAAM,gCAA+BA,OAAe,O,oFCKlD,SAAUC,GAsBX,SAASC,kBAAmBC,YAAa,GACxC,OAAK,IAAUA,YAIRC,0BAAQD,WAAY,cAAc,GAAOE,SACjD,CAuBA,SAASC,YAAaC,aAAe,IAC/B,IAAMA,aAAaC,QAIxBC,MAAOF,aACR,CApDAN,EAAGS,UAAWC,OAAO,WAEf,SAAW,IAAIC,gBAAiBZ,OAAOa,SAASC,MAAOpB,IAAK,YAC7D,cAAgBO,EAAG,oBAAqBc,OACxCC,SAASC,EAAAA,iCAAAA,IAAI,uBAAyB,2BACxChB,EAAE,qBAAsBc,IAAK,aAC7Bd,EAAE,UAAWiB,SAEhB,IAqDuBjB,EAAG,gDAEXkB,GAAI,SAAS,SAAUC,GACrC,MAAMC,YAAcpB,EAAG,uBACjBqB,UAAYrB,EAAG,qBACfsB,eAAiBF,YAAYN,MAC7BS,aAAeF,UAAUP,MAE/B,IAASb,kBAAmBqB,kBAAoBrB,kBAAmBsB,cAGlE,OAFAJ,EAAEK,sBACFnB,YAAaoB,sCAAsCC,wBAI/CzB,kBAAmBqB,iBAAoBrB,kBAAmBsB,gBA1ChE,SAAmCI,UAAY,GAAIC,QAAU,IAC5D,OAAK,IAAMD,UAAUpB,QAAU,IAAMqB,QAAQrB,SAIpCJ,0BAAQyB,SAAUC,SAAUF,UACtC,CAoCoFG,CAA0BR,eAAgBC,gBAC5HJ,EAAEK,iBACFnB,YAAaoB,sCAAsCM,oBAErD,GACA,CArFC,CAqFCC,0B","sources":["webpack://woocommerce-bookings/webpack/bootstrap","webpack://woocommerce-bookings/webpack/runtime/compat get default export","webpack://woocommerce-bookings/webpack/runtime/define property getters","webpack://woocommerce-bookings/webpack/runtime/hasOwnProperty shorthand","webpack://woocommerce-bookings/external window [\"wp\",\"i18n\"]","webpack://woocommerce-bookings/external window \"jQuery\"","webpack://woocommerce-bookings/external window \"moment\"","webpack://woocommerce-bookings/./src/js/admin-edit-booking.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"jQuery\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"moment\"];","// External dependencies.\nimport { __ } from '@wordpress/i18n';\nimport jQuery from 'jquery';\nimport moment from 'moment';\n\n( function( $ ) {\n\n\t/**\n\t * When Document is ready.\n\t */\n\t$( document ).ready( function() {\n\t\t// When a confirm link clicked from email, show dialog and trigger change.\n\t\tif ( 'true' === new URLSearchParams( window.location.href ).get( 'confirm' )\n\t\t\t&& 'confirmed' !== $( '#_booking_status' ).val()\n\t\t\t&& confirm( __( 'Confirm the booking?' , 'woocommerce-bookings' ) ) ) {\n\t\t\t\t$(' #_booking_status' ).val( 'confirmed' );\n\t\t\t\t$(' #post' ).submit();\n\t\t}\n\t});\n\n\t/**\n\t * Returns true if the date string is of the format\n\t * yyyy-mm-dd, false otherwise.\n\t *\n\t * @param {string} dateString Date string.\n\t * @return {boolean} date string is of a valid format or not.\n\t */\n\tfunction isDateValidFormat( dateString = false ) {\n\t\tif ( false === dateString ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn moment( dateString, 'YYYY-MM-DD', true ).isValid();\n\t}\n\n\t/**\n\t * Returns true if the end date is before start date,\n\t * false otherwise.\n\t *\n\t * @param {string} startDate The start date string\n\t * @param {string} endDate The end date string\n\t * @return {boolean} the end date is before start date or not.\n\t */\n\tfunction isEndDateBeforeStartDate( startDate = '', endDate = '' ) {\n\t\tif ( 0 === startDate.length || 0 === endDate.length ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn ! moment( endDate ).isBefore( startDate );\n\t}\n\n\t/**\n\t * Renders the error message.\n\t *\n\t * @param {string} errorMessage The error message to be rendered.\n\t */\n\tfunction renderError( errorMessage = '' ) {\n\t\tif ( 0 === errorMessage.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\talert( errorMessage ); // eslint-disable-line\n\t}\n\n\t/**\n\t * Client-side validation to check if start and end dates in\n\t * Bookings > Add/Edit Booking is of the format yyyy-mm-dd.\n\t *\n\t * Prevents submission and displays error if the format is\n\t * otherwise.\n\t */\n\tconst saveBookingBtn = $( '#woocommerce-booking-save input[name=\"save\"]' );\n\n\tsaveBookingBtn.on( 'click', function( e ) {\n\t\tconst startDateEl = $( '#booking_start_date' );\n\t\tconst endDateEl = $( '#booking_end_date' );\n\t\tconst startDateValue = startDateEl.val();\n\t\tconst endDateValue = endDateEl.val();\n\n\t\tif ( ! ( isDateValidFormat( startDateValue ) && isDateValidFormat( endDateValue ) ) ) {\n\t\t\te.preventDefault();\n\t\t\trenderError( wc_bookings_admin_edit_booking_params.invalid_start_end_date );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( isDateValidFormat( startDateValue ) && isDateValidFormat( endDateValue ) && ! isEndDateBeforeStartDate( startDateValue, endDateValue ) ) {\n\t\t\te.preventDefault();\n\t\t\trenderError( wc_bookings_admin_edit_booking_params.date_range_invalid );\n\t\t}\n\t} );\n}( jQuery ) );\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","window","$","isDateValidFormat","dateString","moment","isValid","renderError","errorMessage","length","alert","document","ready","URLSearchParams","location","href","val","confirm","__","submit","on","e","startDateEl","endDateEl","startDateValue","endDateValue","preventDefault","wc_bookings_admin_edit_booking_params","invalid_start_end_date","startDate","endDate","isBefore","isEndDateBeforeStartDate","date_range_invalid","jQuery"],"sourceRoot":""}