{"version":3,"file":"admin-calendar-gutenberg.js","mappings":"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","sources":["webpack://woocommerce-bookings/webpack/bootstrap","webpack://woocommerce-bookings/webpack/runtime/compat get default export","webpack://woocommerce-bookings/webpack/runtime/define property getters","webpack://woocommerce-bookings/webpack/runtime/hasOwnProperty shorthand","webpack://woocommerce-bookings/external window \"React\"","webpack://woocommerce-bookings/external window [\"wp\",\"element\"]","webpack://woocommerce-bookings/external window \"lodash\"","webpack://woocommerce-bookings/external window [\"wp\",\"components\"]","webpack://woocommerce-bookings/external window \"moment\"","webpack://woocommerce-bookings/./src/js/components/datepicker-popover-month/index.js","webpack://woocommerce-bookings/./src/js/components/datepicker-popover-day/index.js","webpack://woocommerce-bookings/external window [\"wp\",\"i18n\"]","webpack://woocommerce-bookings/./src/js/components/calendar-popover/index.js","webpack://woocommerce-bookings/./src/js/admin-calendar-gutenberg.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"React\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"lodash\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"moment\"];","/**\n * External dependencies\n */\nimport { Component } from '@wordpress/element';\nimport {DateTimePicker, Popover} from '@wordpress/components';\nimport moment from 'moment';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nclass DatePickerPopoverMonth extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.state = {\n\t\t\tshowPicker: false,\n\t\t};\n\n\t\tthis.handleChange = this.handleChange.bind( this );\n\t\tconst picker = this;\n\n\t\tdocument.addEventListener( 'click', function( event ) {\n\t\t\tlet element = document.getElementById( 'wc-bookings-datepicker-toggle-month' );\n\n\t\t\tif ( event.target === element || element.contains( event.target ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( event.target.closest( '.wc-bookings-datepicker-popover' ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tpicker.setState( {\n\t\t\t\tshowPicker: false,\n\t\t\t} );\n\t\t} );\n\t}\n\n\thandleChange( datetime ) {\n\t\tconst date = datetime.substring( 0, 10 );\n\t\tdocument.location.search += '&calendar_day=' + date + '&view=day';\n\t}\n\n\ttoggleVisibility() {\n\t\tconst { showPicker } = this.state;\n\t\tthis.setState( {\n\t\t\tshowPicker: ! showPicker,\n\t\t} );\n\t}\n\n\trender() {\n\t\tconst { showPicker } = this.state;\n\t\tconst { year, month } = this.props;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<a href=\"#\" onClick={ (e) => { e.preventDefault(); this.toggleVisibility() } } id=\"wc-bookings-datepicker-toggle-month\">\n\t\t\t\t\t{ month } { year } <span> &#9662;</span>\n\t\t\t\t</a>\n\t\t\t\t{ showPicker && (\n\t\t\t\t\t<Popover className=\"wc-bookings-datepicker-popover\">\n\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\tcurrentDate={ moment( '01 ' + month + ' ' + year, 'DD MMM YYYY' ).toDate() }\n\t\t\t\t\t\t\t__nextRemoveHelpButton\n\t\t\t\t\t\t\t__nextRemoveResetButton\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Popover>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t}\n\n}\nexport default DatePickerPopoverMonth;\n","/**\n * External dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { DateTimePicker, Popover } from '@wordpress/components';\nimport moment from 'moment';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nclass DatePickerPopoverDay extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.state = {\n\t\t\tshowPicker: false,\n\t\t};\n\n\t\tthis.handleChange = this.handleChange.bind( this );\n\t\tconst picker = this;\n\n\t\tdocument.addEventListener( 'click', function( event ) {\n\t\t\tlet element = document.getElementById( 'wc-bookings-datepicker-toggle-day' );\n\n\t\t\tif ( event.target === element || element.contains( event.target ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( event.target.closest( '.wc-bookings-datepicker-popover' ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tpicker.setState( {\n\t\t\t\tshowPicker: false,\n\t\t\t} );\n\t\t} );\n\t}\n\n\thandleChange( datetime ) {\n\t\tconst date = datetime.substring( 0, 10 );\n\t\tdocument.location.search += '&calendar_day=' + date + '&view=day';\n\t}\n\n\ttoggleVisibility() {\n\t\tconst { showPicker } = this.state;\n\t\tthis.setState( {\n\t\t\tshowPicker: ! showPicker,\n\t\t} );\n\t}\n\n\trender() {\n\t\tconst { showPicker } = this.state;\n\t\tconst { year, month, day } = this.props;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<a href=\"#\" onClick={ (e) => { e.preventDefault(); this.toggleVisibility() } } id=\"wc-bookings-datepicker-toggle-day\">\n\t\t\t\t\t{ day } <span> &#9662;</span>\n\t\t\t\t</a>\n\t\t\t\t{ showPicker && (\n\t\t\t\t\t<Popover className=\"wc-bookings-datepicker-popover\">\n\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\tcurrentDate={moment(Date.parse(day)).toDate()}\n\t\t\t\t\t\t\t__nextRemoveHelpButton\n\t\t\t\t\t\t\t__nextRemoveResetButton\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Popover>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t}\n\n}\nexport default DatePickerPopoverDay;\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","/**\n * External dependencies\n */\nimport { Component, Fragment } from '@wordpress/element';\nimport { Button, Popover } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nclass BookingDetails extends Component {\n\trender() {\n\t\tconst { booking }     = this.props;\n\t\tconst { orderMeta }   = booking;\n\t\tlet parsedOrderMeta   = [];\n\n\t\tif ( orderMeta ) {\n\t\t\tparsedOrderMeta = JSON.parse( orderMeta );\n\t\t}\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t<div>\n\t\t\t\t<div id=\"event_detail_header\">\n\t\t\t\t\t<h3>{ booking.title }</h3>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"event_detail_body\">\n\t\t\t\t\t<div id=\"booking_status\">\n\t\t\t\t\t\t{ booking.status && (<span>{ booking.status }</span>) }\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{ (booking.date && booking.time) && (\n\t\t\t\t\t\t\t<li className=\"daily_popover_datetime_icon\">\n\t\t\t\t\t\t\t\t<span><strong>{ booking.date }<br />{ booking.time }</strong></span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t{ booking.customer && (\n\t\t\t\t\t\t\t<li className=\"daily_popover_customer_icon\">\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t<strong>{ wc_bookings_admin_js_params.i18n_customer }</strong>\n\t\t\t\t\t\t\t\t\t{ booking.customer }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t{ booking.resource && (\n\t\t\t\t\t\t\t<li className=\"daily_popover_resource_icon\">\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t<strong>{ wc_bookings_admin_js_params.i18n_resource }</strong>\n\t\t\t\t\t\t\t\t\t{ booking.resource.split( ',' ).join( '<br />' ) }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{ booking.persons && (\n\t\t\t\t\t\t\t<li className=\"daily_popover_persons_icon\">\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t<strong>{ wc_bookings_admin_js_params.i18n_persons }</strong>\n\t\t\t\t\t\t\t\t\t{ booking.persons }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tparsedOrderMeta.map( ( { attrs, title }, index ) => (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<li class=\"daily_popover_group_title\"><strong>{ title }</strong></li>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tObject.keys( attrs ).map( ( metaKey ) => (\n\t\t\t\t\t\t\t\t\t\t\t<li className=\"daily_popover_order_meta_item\" dangerouslySetInnerHTML={ { __html: `<strong>${ metaKey }</strong>${ attrs[ metaKey ] }` } } />\n\t\t\t\t\t\t\t\t\t\t) )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) )\n\n\t\t\t\t\t\t}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t{ booking.url && (\n\t\t\t\t<div id=\"event_detail_footer\">\n\t\t\t\t\t<a href={ booking.url }>{ wc_bookings_admin_js_params.i18n_view_details }</a> <span>&rarr;</span>\n\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nclass CalendarPopover extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tshowPicker: false,\n\t\t};\n\t}\n\n\tgetBookingData() {\n\t\tconst attrs = this.props.element.attributes;\n\t\tconst mapping = {\n\t\t\t'data-id': 'id',\n\t\t\t'data-status': 'status',\n\t\t\t'data-booking-title': 'title',\n\t\t\t'data-booking-url': 'url',\n\t\t\t'data-booking-date': 'date',\n\t\t\t'data-booking-time': 'time',\n\t\t\t'data-booking-customer': 'customer',\n\t\t\t'data-booking-resource': 'resource',\n\t\t\t'data-booking-persons': 'persons',\n\t\t\t'data-order-meta': 'orderMeta'\n\t\t};\n\t\tlet booking = {};\n\n\t\tObject.entries( mapping ).forEach(\n\t\t\t([attrName, propName]) => {\n\t\t\t\tbooking[ propName ] = attrs.getNamedItem( attrName ) ? attrs.getNamedItem( attrName ).value : '';\n\t\t\t}\n\t\t);\n\n\t\t// Sanitize URL.\n\t\tbooking['url'] = booking['url'] ? booking['url'].trim() : '';\n\t\tif ( ! /^https?:\\/\\/[^\\s'\"<>]+$/gi.test( booking['url'] ) ) {\n\t\t\tbooking['url'] = '';\n\t\t}\n\n\t\treturn booking;\n\t}\n\n\ttoggleVisibility = ( e ) => {\n\t\te.preventDefault();\n\n\t\tconst { showPicker } = this.state;\n\t\tthis.setState( {\n\t\t\tshowPicker: ! showPicker,\n\t\t} );\n\t}\n\n\tclosePopover = () => {\n\t\tthis.setState( {\n\t\t\tshowPicker: false,\n\t\t} );\n\t}\n\n\tparseStyles = ( styles ) => styles\n    \t.split( ';' )\n   \t\t.filter( ( style ) => style.split( ':' )[ 0 ] && style.split( ':' )[ 1 ] )\n    \t.map( ( style ) => [\n        \tstyle.split( ':' )[ 0 ].trim().replace( /-./g, ( c ) => c.substr( 1 ).toUpperCase() ),\n        \tstyle.split( ':' )[ 1 ].trim(),\n    \t] )\n    \t.reduce( ( styleObj, style ) => ( {\n        \t...styleObj,\n        \t[ style[ 0 ] ]: style[ 1 ],\n\t\t} ), {} );\n\n\trender() {\n\t\tconst { showPicker } = this.state;\n\t\tconst { getAnchorRect, position } = this.props;\n\n\t\tconst attr = this.props.element.attributes;\n\t\tconst classes = attr.getNamedItem( 'data-classes' ) ? attr.getNamedItem( 'data-classes' ).value : '';\n\t\tconst styles = attr.getNamedItem( 'data-style' ) ? this.parseStyles( attr.getNamedItem( 'data-style' ).value ) : {};\n\n\t\tconst booking = this.getBookingData();\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<a href={ booking.url } className={ classes } style={ styles } onClick={ this.toggleVisibility }>\n\t\t\t\t\t<span className=\"booking-calendar-booking-title\">{ booking.customer + ( booking.customer ? ', ' : '' ) + booking.title }</span>\n\t\t\t\t\t<span className=\"booking-calendar-time-range\">{ booking.time }</span>\n\t\t\t\t</a>\n\t\t\t\t{ showPicker && (\n\t\t\t\t\t<Popover\n\t\t\t\t\t\tclassName=\"wc-bookings-calendar-popover\"\n\t\t\t\t\t\tfocusOnMount={ 'firstElement' }\n\t\t\t\t\t\tgetAnchorRect={ getAnchorRect }\n\t\t\t\t\t\tposition={ position }\n\t\t\t\t\t\tonFocusOutside={ this.closePopover }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button className=\"wc-bookings-calendar-popover-close\" onClick={ this.closePopover } >\n\t\t\t\t\t\t\t{ __( 'Close', 'woocommerce-bookings' ) }\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t<BookingDetails booking={ booking } />\n\t\t\t\t\t</Popover>\n\t\t\t\t) }\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default CalendarPopover;\n","/* globals: wc_bookings_admin_calendar_js_params */\n\n/**\n * External dependencies\n */\nimport { render } from '@wordpress/element';\nimport { forEach } from 'lodash';\n\n/**\n * Internal dependencies.\n */\nimport DatePickerPopoverMonth from './components/datepicker-popover-month';\nimport DatePickerPopoverDay from './components/datepicker-popover-day';\nimport CalendarPopover from './components/calendar-popover';\n\nconst { default_month, default_year, default_day } = wc_bookings_admin_calendar_js_params;\n\nconst getAnchorRect = popoverElement => popoverAnchorElement => {\n\t// set anchor tag if missing.\n\tif( ! popoverAnchorElement || 'A' !== popoverAnchorElement.tagName  ){\n\t\tpopoverAnchorElement =  popoverElement.querySelector('.wc-bookings-event-link');\n\t}\n\n\tconst td = popoverElement.closest( 'td' );\n\tconst tableRect = popoverElement.closest( 'table' ).getBoundingClientRect();\n\tconst content = popoverElement.querySelector( '.components-popover__content' ) || popoverElement;\n\tconst anchorRect = popoverAnchorElement.getBoundingClientRect();\n\tconst anchorPoint = {\n\t\tx: anchorRect.x + td.clientWidth / 2,\n\t\ty: anchorRect.y,\n\t};\n\n\tlet x = anchorPoint.x;\n\tif ( anchorPoint.x + content.clientWidth > tableRect.width + tableRect.x ) {\n\t\tx = anchorPoint.x - content.clientWidth;\n\t}\n\n\tlet y = anchorPoint.y;\n\n\tif ( anchorPoint.y + content.clientHeight > document.body.clientHeight ) {\n\t\ty = document.body.clientHeight - content.clientHeight;\n\t}\n\n\treturn new DOMRect( x, y, 0, 0 );\n};\n\nconst popoverContainerMonth = document.getElementById( 'wc-bookings-datepicker-container-month' );\n\nif ( null !== popoverContainerMonth ) {\n\tconst pickerMonth = <DatePickerPopoverMonth year={ default_year } month={ default_month } />;\n\trender( pickerMonth, popoverContainerMonth );\n}\n\nconst popoverContainerDay = document.getElementById( 'wc-bookings-datepicker-container-day' );\n\nif ( null !== popoverContainerDay ) {\n\tconst pickerDay = <DatePickerPopoverDay year={ default_year } month={ default_month } day={ default_day } />;\n\trender( pickerDay, popoverContainerDay );\n}\n\nconst calendarEventMonth = document.getElementsByClassName( 'calendar_month_event' );\n\nif ( null !== calendarEventMonth ) {\n\tforEach( calendarEventMonth, function( value ) {\n\t\trender( <CalendarPopover getAnchorRect={ getAnchorRect( value ) } element={ value } position={ 'bottom center' } />, value );\n\t} );\n}\n\nconst calendarEventDay = document.getElementsByClassName( 'daily_view_booking' );\n\nif ( null !== calendarEventDay ) {\n\tforEach( calendarEventDay, function( value ) {\n\t\trender( <CalendarPopover element={ value } position={ 'bottom center' } />, value.childNodes[0] );\n\t} );\n}\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","window","DatePickerPopoverMonth","Component","constructor","props","super","this","state","showPicker","handleChange","bind","picker","document","addEventListener","event","element","getElementById","target","contains","closest","setState","datetime","date","substring","location","search","toggleVisibility","render","createElement","href","onClick","e","preventDefault","id","month","year","Popover","className","DateTimePicker","onChange","currentDate","moment","toDate","__nextRemoveHelpButton","__nextRemoveResetButton","DatePickerPopoverDay","day","Date","parse","BookingDetails","booking","parsedOrderMeta","orderMeta","JSON","Fragment","title","status","time","customer","wc_bookings_admin_js_params","i18n_customer","resource","i18n_resource","split","join","persons","i18n_persons","map","attrs","index","class","keys","metaKey","dangerouslySetInnerHTML","__html","url","i18n_view_details","CalendarPopover","getBookingData","attributes","entries","forEach","attrName","propName","getNamedItem","value","trim","test","closePopover","parseStyles","styles","filter","style","replace","c","substr","toUpperCase","reduce","styleObj","attr","classes","focusOnMount","getAnchorRect","position","onFocusOutside","Button","__","wc_bookings_admin_calendar_js_params","popoverContainerMonth","pickerMonth","default_year","default_month","popoverContainerDay","pickerDay","default_day","calendarEventMonth","getElementsByClassName","popoverElement","popoverAnchorElement","tagName","querySelector","td","tableRect","getBoundingClientRect","content","anchorRect","anchorPoint","x","clientWidth","y","width","clientHeight","body","DOMRect","calendarEventDay","childNodes"],"sourceRoot":""}